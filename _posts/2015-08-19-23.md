---
title: 如何构建高性能网站
category: 其他
tags: web 前端开发 性能 网站
---

####一、减少HTTP请求

*	使用CSS Sprites，将多个图片合并到一个单独的图片中。

*	使用内联图片，通过使用data:URL模式可以在web页面中包含图片且无需任何额外的HTTP请求。例如，`<img src="data:image/gif;base64,xxxxxx"/>`。缺点，Base64编码会增加图片的数据大小，整体下载量会增加。

*	合并脚本和样式表。因为每个文件都会导致一个额外的HTTP请求。对于编写的JavaScript模块化代码，将所有JavaScript合并为一个单独的文件在开发环境中很难完成。解决方案是保持JavaScript的模块化，而在生产过程中从一组特定的模块生成一个目标文件。

<!-- more -->

####二、使用内容发布网络（CDN）

####三、添加Expires头

*	首次访问页面的用户会进行很多HTTP请求，但通过使用一个长久的Expires头，使这些请求文件可以被缓存，这会在后续的页面中避免不必要的HTTP请求。

*	使用`Cache-Control`的`max-age`命令指定文件被缓存多久。

*	使用`mod_expires Apache`模块。

*	为图片长久的Expires头非常普遍，但这一最佳实践不应该仅限于图片。应该包含任何不经常变化的文件，包括脚本、样式表等。

####四、压缩文件

*	使用gzip

*	压缩脚本和样式表

####五、将样式表放在顶部

*	使用`link`标签将样式表放在文档的`head`标签中。

*	不要使用`@import`引入样式文件。

####六、将脚本放在底部

*	脚本放在顶部会阻塞对后面内容的呈现，阻塞对其后面文件的下载。

####七、避免CSS表达式

####八、使用外部JavaScript和CSS

####九、减少DNS查找

*	DNS查找可以被缓存起来以提高性能。

*	通过使用Keep-Alive和较少的域名来减少DNS查找。

####十、压缩JavaScript,css文件

*	__压缩__:从代码中移除不必要的字符，如空白字符、空格、换行和制表符都将被移除。

*	__混淆__:和精简一样，它也会移除注释和空白，同时它还会改写代码。函数和变量名被转换为更短的字符。这样做也可以增加对代码进行反向工程的难度。

####十一、避免重定向

*	重定向(Redirect)用于将用户从一个URL重新路由到另一个URL。

*	重定向会使网页变慢。

*	寻找避免重定向的方法。

####十二、移除重复脚本

*	在一个页面中两次包含同一个JavaScript文件会损伤性能。

*	重复脚本损伤性能的方式有两种——不必要的HTTP请求和执行JavaScript所浪费的时间。

*	确保脚本只被包含一次。

####十三、配置或移除ETag

*	实体标签(Entity Tag, ETag)是Web服务器和浏览器用于确认缓存组件有效性的一种机制。

####十四、使Ajax可缓存



